{"ast":null,"code":"import _typeof from \"/home/local/ZOHOCORP/ashok-pt5302/projectvuex/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _objectSpread from \"/home/local/ZOHOCORP/ashok-pt5302/projectvuex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from \"vuex\";\nimport { mapGetters } from \"vuex\"; //import axios from 'axios';\n\nexport default {\n  data: function data() {\n    return {\n      temp: 0,\n      fornow: null,\n      control: 0,\n      check: true,\n      choose: \"\",\n      bchoose: \"\",\n      payload: {\n        pn: 1,\n        lt: 9,\n        to: null,\n        page: null\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$http.get('/user?_page=1').then(function (data) {\n      var head = data.headers.get('x-total-count');\n      _this.payload.page = Math.ceil(head / 3);\n      console.log(_this.payload.page);\n      _this.payload.to = parseInt(head);\n      console.log(_this.payload);\n\n      _this.getmembers(_this.payload);\n\n      _this.payload.pn = 3;\n    });\n\n    try {\n      console.log(\"ok\");\n    } catch (err) {\n      console.log(err);\n    }\n  },\n\n  /* watch: {\n       allmembers() {\n        \n         this.control = 0\n     }\n   },*/\n  computed: mapGetters([\"allmembers\"]),\n  methods: _objectSpread({\n    callme: function callme(payload) {\n      var _this2 = this;\n\n      this.$store.dispatch('getmembers', payload).then(function (data) {\n        console.log(data);\n        _this2.control = data;\n      });\n    },\n    handleScroll: function handleScroll(el) {\n      console.log(_typeof(this.allmembers.length));\n      console.log(this.allmembers.__ob__.value);\n      var scrollTop = el.scrollTop;\n      var docHeight = el.scrollHeight;\n      var winHeight = el.offsetHeight;\n      var scrollPercent = scrollTop / (docHeight - winHeight);\n      var scrollPercentRounded = Math.round(scrollPercent * 100); //console.log(\"scp=\"+scrollPercent)\n\n      console.log(\"total= \" + scrollPercentRounded); //console.log(\"scrool\"+scrollTop)\n      //console.log(\"body=\"+docHeight)\n      //console.log(\"window=\"+winHeight)\n      // if(scrollPercentRounded >= 97 && (this.$store.state.forget==0))\n\n      console.log(this.control == 0);\n      console.log(scrollPercentRounded >= 97);\n      console.log(scrollPercentRounded >= 97 && this.control == 0);\n\n      if (scrollPercentRounded >= 97 && this.control == 0 && this.payload.pn < this.payload.page) {\n        this.check = false;\n        this.control = 1;\n        console.log(this.control == 0);\n        this.payload.pn += 1;\n        this.payload.lt = 3;\n        this.callme(this.payload);\n      } else {\n        this.check = true;\n      }\n      /*if(scrollPercentRounded == 100 && (this.payload.pn != this.payload.page) && this.control==1)\n      { \n       \n        this.check=true;\n                console.log(this.check)\n       }\n      else{\n        \n        this.check=false;\n        console.log(this.check)\n      }\n        */\n\n\n      this.temp += this.payload.lt;\n      console.log(this.payload.to), console.log(this.temp);\n      console.log(this.payload.pn == this.payload.page);\n      return this.payload.pn == this.payload.page;\n    }\n  }, mapActions([\"getmembers\", \"deletemembers\"])),\n  directives: {\n    colors: {\n      update: function update(el, binding) {\n        if (binding.arg == 'colorful') {\n          el.style.background = binding.value;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA,kC,CAEA;;AAEA;AACAA,MADA,kBACA;AACA;AACAC,aADA;AAEAC,kBAFA;AAGAC,gBAHA;AAIAC,iBAJA;AAKAC,gBALA;AAMAC,iBANA;AAOAC;AACAC,aADA;AAEAC,aAFA;AAGAC,gBAHA;AAIAC;AAJA;AAPA;AAcA,GAhBA;AAiBAC,SAjBA,qBAiBA;AAAA;;AACA,oCACAC,IADA,CAEA;AACA;AACA;AACAC;AACA;AACAA;;AACA;;AAEA;AAEA,KAZA;;AAaA;AACAA;AACA,KAFA,CAEA;AACAA;AACA;AAEA,GArCA;;AAsCA;AACA;;AAEA;AACA;AACA;AACAC,sCA5CA;AA6CAC;AACAC,UADA,kBACAV,OADA,EACA;AAAA;;AACA;AACAO;AACA;AAEA,OAJA;AAOA,KATA;AAUAI,gBAVA,wBAUAC,EAVA,EAUA;AACAL;AACAA;AACA;AACA;AACA;AACA;AACA,iEAPA,CAQA;;AACAA,oDATA,CAUA;AACA;AACA;AACA;;AACAA;AACAA;AACAA;;AACA,kGACA;AACA;AACA;AACAA;AACA;AACA;AACA;AACA,OARA,MASA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAEA;AACAA,oCACAA,sBADA;AAEAA;AAEA;AACA;AA1DA,KA4DAM,0BACA,eADA,EA5DA,CA7CA;AA6GAC;AACAC;AACAC,YADA,kBACAJ,EADA,EACAK,OADA,EACA;AACA;AACAL;AACA;AACA;AALA;AADA;AA7GA","names":["data","temp","fornow","control","check","choose","bchoose","payload","pn","lt","to","page","created","then","console","computed","methods","callme","handleScroll","el","mapActions","directives","colors","update","binding"],"sourceRoot":"src/components","sources":["ShowMembers.vue"],"sourcesContent":["<template>\n    <div  v-colors:colorful=\"choose\" id=\"show-members\">\n      <input v-focus type=\"text\" v-model=\"choose\" placeholder=\"Search\">\n      <input v-bfocus type=\"text\" v-model=\"bchoose\" placeholder=\"bSearch\">\n\n        <h1>CLASS MEMBERS </h1>\n       <ul v-scroll=\"handleScroll\">\n           \n        <li v-for=\"member in allmembers\" :key=\"member.id\"> \n            \n            <router-link  v-bind:to =\"'/home/member/'+member.id\" exact>{{member.Name}}</router-link>\n            <router-link v-bind:to =\"'/home/memberput/'+member.id\" exact><button class=\"upd\">U</button>\n</router-link>\n            <button class=\"del \" @click=\"deletemembers(member.id)\">x</button>\n        </li>\n        <li><img id=\"load\" v-if=\"check\" src=\"../assets/loading-buffering.gif\" height=\"40px\"><li>\n        </ul>\n     \n    </div>\n</template>  \n\n<script>\nimport { mapActions } from \"vuex\";\nimport { mapGetters } from \"vuex\"; \n\n//import axios from 'axios';\n\nexport default {\n  data(){\n    return{\n      temp:0,\n      fornow:null,\n      control:0,\n      check:true,\n      choose:\"\",\n      bchoose:\"\",\n      payload:{\n        pn:1,\n        lt:9  ,\n        to:null,\n        page:null\n      }\n    }\n  },\n  created() {\n     this.$http.get('/user?_page=1')\n            .then(\n                (data)=>{\n                let head=data.headers.get('x-total-count')\n                this.payload.page = Math.ceil((head)/3)\n                console.log(this.payload.page)\n                this.payload.to=parseInt(head);\n                console.log(this.payload)\n                this.getmembers(this.payload);\n\n                this.payload.pn=3\n\n                })\n    try {\n      console.log(\"ok\");\n    } catch (err) {\n      console.log(err);\n    }\n          \n  },\n /* watch: {\n      allmembers() {\n       \n        this.control = 0\n    }\n  },*/\n  computed:mapGetters([\"allmembers\"]),\n  methods: { \n  callme(payload){\n     this.$store.dispatch('getmembers',payload).then((data)=>{\n       console.log(data)\n       this.control=data\n       \n      })\n     \n        \n    },\n      handleScroll(el){\n      console.log(typeof(this.allmembers.length))\n      console.log(this.allmembers.__ob__.value)\n      let scrollTop = el.scrollTop\n      let docHeight = el.scrollHeight;\n      let winHeight = el.offsetHeight;\n      let scrollPercent = scrollTop / (docHeight-winHeight);\n      let scrollPercentRounded = Math.round(scrollPercent * 100);\n      //console.log(\"scp=\"+scrollPercent)\n      console.log(\"total= \"+scrollPercentRounded)\n      //console.log(\"scrool\"+scrollTop)\n      //console.log(\"body=\"+docHeight)\n      //console.log(\"window=\"+winHeight)\n     // if(scrollPercentRounded >= 97 && (this.$store.state.forget==0))\n     console.log(this.control == 0)\n     console.log(scrollPercentRounded >= 97) \n     console.log(scrollPercentRounded >= 97 && this.control == 0)\n      if(scrollPercentRounded >= 97 && this.control == 0 && this.payload.pn<this.payload.page)\n      {\n      this.check=false\n      this.control = 1;\n      console.log(this.control == 0)\n      this.payload.pn+=1;\n      this.payload.lt=3;  \n      this.callme(this.payload);\n      }\n      else{\n        this.check=true\n      }\n      /*if(scrollPercentRounded == 100 && (this.payload.pn != this.payload.page) && this.control==1)\n      { \n       \n        this.check=true;\n                console.log(this.check)\n\n      }\n      else{\n        \n        this.check=false;\n        console.log(this.check)\n      }\n        */\n        this.temp+=this.payload.lt\n        console.log(this.payload.to),\n        console.log(this.temp)\n        console.log(this.payload.pn==this.payload.page)\n       \n        return this.payload.pn==this.payload.page\n      },\n      \n      ...mapActions([\"getmembers\",\n                    \"deletemembers\"]),\n     \n  },\n    directives:{\n    colors:{\n  update(el,binding){\n    if(binding.arg == 'colorful'){\n      el.style.background=binding.value;\n    }\n  }\n}\n  }\n};\n</script>\n<style scoped>\nh4{\n    color: black;\n}\n#show-members{\n    max-width: 50%;\n    color: black;\n    height: 100%;\n}\nul{\n    display: inline-block;\n    background:rgb(255, 209, 149);\n    margin: 20px;\n    padding:20px;\n    width: 50%;\n    max-height: 400px;\n    overflow: auto;\n}\nli{\n  display: block; \n  padding: 20px; \n  margin: 20px 0;\n  text-align: left;\n\n}\n\nul li {\n  background: rgb(254, 249, 242);\n  color: rgb(221, 221, 232);\n  margin: 5px;\n  }\n\nli:hover{\n    background:rgb(255, 209, 149);\n    display: block;\n}\n\nli:hover .del{\n  background: rgb(254, 249, 242);\ndisplay:inline-block;\n}\nli:hover .upd{\n  background: rgb(254, 249, 242);\ndisplay:inline-block;\n}\n\n.del{\n    display: none;\n    width: 20px;\n    background: #000;\n    cursor: pointer;\n    color: #000;\n}\n.upd{\n        display: none;\n    width: 20px;\n    color: #000;\n}\n</style>"]},"metadata":{},"sourceType":"module"}