{"ast":null,"code":"import _asyncToGenerator from \"/home/local/ZOHOCORP/ashok-pt5302/projectvuex/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/home/local/ZOHOCORP/ashok-pt5302/projectvuex/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nexport var store = new Vuex.Store({\n  state: {\n    members: [],\n    allow: null\n  },\n  getters: {\n    //allmembers:(state)=>state.members\n    allmembers: function allmembers(state) {\n      console.log(\"done\");\n      return state.members;\n    }\n  },\n  mutations: {\n    getmembers: function getmembers(state, payload) {\n      var _state$members;\n\n      console.log(payload);\n\n      (_state$members = state.members).push.apply(_state$members, _toConsumableArray(payload));\n\n      console.log(state.members); //state.forget=0;\n\n      console.log(state.forget);\n      return state.members;\n    },\n\n    /*getmembers:(state,payload)=>{\n        state.members=payload;\n    }*/\n    postmembers: function postmembers(state, payload) {\n      console.log(\"Payload : \" + JSON.stringify(payload));\n      state.members.unshift(payload);\n    },\n    putmembers: function putmembers(state, payload) {\n      console.log(payload);\n      var ind = state.members.findIndex(function (members) {\n        return members.id == payload.cid;\n      });\n      state.members.splice(ind, 1, payload.res);\n    },\n    deletemembers: function deletemembers(state, payload) {\n      var ind = state.members.findIndex(function (members) {\n        return members.id == payload;\n      });\n      state.members.splice(ind, 1);\n    }\n  },\n  actions: {\n    getmembers: function getmembers(context, payload) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(payload.pn <= payload.page)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.prev = 1;\n                _context.next = 4;\n                return axios({\n                  method: \"get\",\n                  url: '/user?_page=' + payload.pn + '&_limit=' + payload.lt,\n                  timeout: Math.floor(Math.random() * 10 + 1) * 1000\n                }) //.get('/user?_page='+payload.pn+'&_limit='+payload.lt)\n                .then(function (data) {\n                  console.log(data);\n\n                  if (data.status == 200 && data.statusText == 'OK') //{setTimeout(()=>{\n                    //console.log(this.state.forget)\n                    {\n                      _this.state.allow = true;\n                      context.commit('getmembers', data.data);\n                      return data.data;\n                    } //Math.floor((Math.random() * 10) + 1)*1000) \n                  else {\n                    console.log(data.status);\n                  }\n                }).catch(function (error) {\n                  if (error.response) {\n                    // Request made and server responded\n                    console.log(error.response.data);\n                    console.log(error.response.status);\n                    this.state.allow = true;\n                    store.dispatch({\n                      type: 'getmembers',\n                      payload: payload\n                    });\n                    console.log(error.response.headers);\n                  } else if (error.request) {\n                    // The request was made but no response was received\n                    console.log(error.request);\n                  } else {\n                    // Something happened in setting up the request that triggered an Error\n                    console.log('Error', error.message);\n                  }\n                });\n\n              case 4:\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 6]]);\n      }))();\n    },\n    postmembers: function postmembers(context, payload) {\n      axios.post('/user', payload).then(function (data) {\n        console.log(data.data);\n        context.commit('postmembers', data.data);\n      });\n    },\n    putmembers: function putmembers(context, payload) {\n      axios.put('/user/' + payload.cid, payload.res).then(function (data) {\n        console.log(data.data);\n        var payload = {\n          cid: data.data.id,\n          res: data.data\n        };\n        context.commit('putmembers', payload);\n      });\n    },\n    deletemembers: function deletemembers(context, payload) {\n      axios.delete('/user/' + payload).then(context.commit('deletemembers', payload));\n    }\n  }\n});","map":{"version":3,"sources":["/home/local/ZOHOCORP/ashok-pt5302/projectvuex/src/store/store.js"],"names":["Vue","Vuex","axios","use","store","Store","state","members","allow","getters","allmembers","console","log","mutations","getmembers","payload","push","forget","postmembers","JSON","stringify","unshift","putmembers","ind","findIndex","id","cid","splice","res","deletemembers","actions","context","pn","page","method","url","lt","timeout","Math","floor","random","then","data","status","statusText","commit","catch","error","response","dispatch","type","headers","request","message","post","put","delete"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex);\n\nexport const store=new Vuex.Store({\n    state:{\n        members:[],\n        allow:null\n    },\n\n    getters:{\n        //allmembers:(state)=>state.members\n        allmembers(state){\n            console.log(\"done\")\n            return state.members\n        }\n    },\n    mutations:{\n        getmembers(state,payload){\n            console.log(payload)\n            state.members.push(...payload)\n            console.log(state.members)\n            //state.forget=0;\n            console.log(state.forget)\n            return(state.members);  \n            \n        },\n        /*getmembers:(state,payload)=>{\n            state.members=payload;\n        }*/\n        postmembers(state,payload){\n            console.log(\"Payload : \"+ JSON.stringify(payload))\n            state.members.unshift(payload);            \n        },\n        putmembers(state,payload){\n            console.log(payload)\n            let ind =  state.members.findIndex(members=>members.id==payload.cid)\n            state.members.splice(ind,1,payload.res);\n        },\n        deletemembers(state,payload){\n            let ind = state.members.findIndex(members=>members.id==payload)\n            state.members.splice(ind,1)\n        }\n      \n      \n\n            \n    },\n    actions:{\n\n\n               async getmembers(context,payload){\n{\n    if(payload.pn<=payload.page){\n      // this.state.allow=false;\n        try{ \n               await axios({\n                method:\"get\",\n                url:'/user?_page='+payload.pn+'&_limit='+payload.lt,\n                timeout:Math.floor((Math.random() * 10) + 1)*1000\n                \n            })\n           //.get('/user?_page='+payload.pn+'&_limit='+payload.lt)\n           .then (\n               (data)=>{\n                    console.log(data)\n                    if(data.status == 200 && data.statusText == 'OK')\n                   \n                         //{setTimeout(()=>{\n                           //console.log(this.state.forget)\n                        { \n                            this.state.allow=true;\n                            context.commit('getmembers',data.data)\n                            return data.data\n                           }//Math.floor((Math.random() * 10) + 1)*1000) \n                    else{\n                           console.log(data.status)\n                       }\n                       })\n            .catch(function (error) {\n                if (error.response) {\n                          // Request made and server responded\n                          console.log(error.response.data);\n                          console.log(error.response.status);\n                          this.state.allow=true;\n                          store.dispatch({\n                              type:'getmembers',\n                              payload:payload\n                              }\n                        )\n                          console.log(error.response.headers);\n                        }\n                else if (error.request) {\n                          // The request was made but no response was received\n                          console.log(error.request);\n                        } \n                else {\n                          // Something happened in setting up the request that triggered an Error\n                          console.log('Error', error.message);\n                        }\n                    \n                    })           \n           \n   }\n   catch(error){\n   console.log(error)}\n         \n}   \n\n}\n         \n        },  \n        postmembers:(context,payload)=>{\n            axios.post('/user',payload)\n            .then(\n                data =>{\n                    console.log(data.data)\n                    context.commit('postmembers',data.data)\n                }\n            )\n        },\n        putmembers:(context,payload)=>{\n            axios.put('/user/'+payload.cid,payload.res)\n            .then(\n                data=>{\n                    console.log(data.data)\n                    let payload={\n                        cid:data.data.id,\n                        res:data.data\n                    }\n                    context.commit('putmembers',payload)\n                }\n            )\n        },\n        deletemembers:(context,payload)=>{\n            axios.delete('/user/'+payload)\n            .then(\n                context.commit('deletemembers',payload)\n            )\n        }\n    \n    }\n        \n}) "]},"metadata":{},"sourceType":"module"}